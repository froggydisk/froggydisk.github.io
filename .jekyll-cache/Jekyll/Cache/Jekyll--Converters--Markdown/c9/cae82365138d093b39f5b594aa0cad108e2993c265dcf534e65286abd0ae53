I"ε<μ„λ²„ μ½”λ“="">
```javascript
var storage = multer.diskStorage({
  destination: async (req, file, callback) =&gt; {
    const userId = JSON.parse(JSON.stringify(req.body)).userId;
    const dir = "./uploads/" + userId; // See here!
    try {
      if (!fs.existsSync(dir)) { // ν•΄λ‹Ή μ μ €μ λ””λ ‰ν† λ¦¬κ°€ μλ”μ§€ ν™•μΈ
        fs.mkdirSync(dir, { recursive: true }); // μ—†λ‹¤λ©΄ λ””λ ‰ν† λ¦¬λ¥Ό μƒμ„±
      }
    } catch (err) {
      console.error(err);
    }
    return callback(null, dir);
  },
  filename: (req, file, callback) =&gt; {
    callback(null, `${Date.now()}_${file.originalname}`); 
  },
});
```
Multerλ¥Ό μ‚¬μ©ν•μ—¬ μ΄λ―Έμ§€λ¥Ό μ—…λ΅λ“ν•  λ• μ μ €λ³„λ΅ ν΄λ”λ¥Ό λ§λ“¤μ–΄μ„ λ”°λ΅ μ €μ¥ν•λ ¤κ³  ν•λ”λ° μκΎΈ μ—λ¬κ°€ λ‚¬λ‹¤. 
<br />
λ””λ ‰ν† λ¦¬λ¥Ό μƒμ„±ν•μ§€ λ»ν•λ” κ±Έλ΅ λ³΄μ•„ ν•¨μλ¥Ό fsμ½ ν•¨μλ¥Ό μλ» μ‚¬μ©ν•κ³  μλ‚ μ‹¶μ–΄μ„ μ—΄μ‹¬ν μ°Ύμ•„λ³΄μ•μΌλ‚ μ•„λ¬΄λ° ν¨κ³Όλ¥Ό λ³Ό μ μ—†μ—λ‹¤. 
<br />
μ¤λ μ‹κ°„ λμ— μ•„λ¬΄μƒκ° μ—†μ΄ /uploads/λ΅ λμ–΄ μλ μ λ€κ²½λ΅λ¥Ό λ§μΉ¨ν‘λ¥Ό λ¶™μ—¬ μƒλ€κ²½λ΅λ΅ λ§λ“¤μ–΄μ£Όμ—λ”λ‹ μ •μƒμ μΌλ΅ μ‘λ™ν•μ€λ‹¤. 
<br />
μ„λ²„μ— λ”°λΌ λ§μΉ¨ν‘κ°€ ν•„μ”ν•  λ•κ°€ μκ³  μ•„λ‹ λ•κ°€ μμΌλ―€λ΅ λ‘ λ‹¤ ν•΄λ³΄κ³  λλ” κ²ƒμΌλ΅ ν•λ©΄ λκ² λ‹¤. 
<br />
μ—¬κΈ°μ„ μ¤‘μ”ν• κ²ƒμ€ ν•­μƒ κ²½λ΅ μ²΄ν¬λ¥Ό λ™λ°ν•λ” κ²ƒμ΄ λ¬΄μλ―Έν• μ‹κ°„ λ‚­λΉ„λ¥Ό ν”Όν•  μ μλ‹¤λ” κ²ƒμ΄λ‹¤. 
<br />
μ°Έκ³ λ¥Ό μ„ν•΄ ν΄λΌμ΄μ–ΈνΈμ½ μ½”λ“λ„ λ‚¨κ²¨λ‘”λ‹¤.
</μ„λ²„>
:ET